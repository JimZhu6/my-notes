# JSä»£ç ç‰‡æ®µ



## å­—ç¬¦ä¸²è½¬æ¢æ•°ç»„

> å¼•ç”¨åœ°å€ï¼š[How to get character array from a string?](https://stackoverflow.com/a/34717402)

æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæƒ³åˆ°ç›´æŽ¥ä½¿ç”¨`str.split('')`çš„æ–¹å¼å°†å­—ç¬¦ä¸²è½¬æ¢æˆæ•°ç»„ï¼Œä½†æ˜¯å½“å­˜åœ¨ä¸‹é¢è¿™ç§æƒ…å†µçš„æ—¶å€™ï¼Œè¾“å‡ºå°†ä¼šå¼‚å¸¸

```js
const a = 'ðŸ˜ðŸ™ðŸšðŸ›'.split('');
console.log(a);

// [
//   "ï¿½",
//   "ï¿½",
//   "ï¿½",
//   "ï¿½",
//   "ï¿½",
//   "ï¿½",
//   "ï¿½",
//   "ï¿½"
// ]
```

å¯ä»¥ä½¿ç”¨ ES6 çš„è¯­æ³•è§£å†³è¿™ä¸ªé—®é¢˜ï¼š

```js
const a = [...'ðŸ˜ðŸ™ðŸšðŸ›'];
console.log(a);
//æˆ–è€…
const a = Array.from('ðŸ˜ðŸ™ðŸšðŸ›');
console.log(a);
```

å¦‚æžœä½ çš„çŽ¯å¢ƒä¸æ”¯æŒ ES6ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼ï¼š

```js
const a = 'ðŸ˜ðŸ™ðŸšðŸ›'.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/);
console.log(a);
```



## Fisherâ€“Yates shuffleæ´—ç‰Œç®—æ³•

> å¼•ç”¨åœ°å€ï¼š[Fisherâ€“Yates shuffle æ´—ç‰Œç®—æ³•](https://gaohaoyang.github.io/2016/10/16/shuffle-algorithm/)

å®ƒç»™å‡ºäº† 1 åˆ° N çš„æ•°å­—çš„çš„éšæœºæŽ’åˆ—ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

1. å†™ä¸‹ä»Ž 1 åˆ° N çš„æ•°å­—
2. å–ä¸€ä¸ªä»Ž 1 åˆ°å‰©ä¸‹çš„æ•°å­—ï¼ˆåŒ…æ‹¬è¿™ä¸ªæ•°å­—ï¼‰çš„éšæœºæ•° k
3. ä»Žä½Žä½å¼€å§‹ï¼Œå¾—åˆ°ç¬¬ k ä¸ªæ•°å­—ï¼ˆè¿™ä¸ªæ•°å­—è¿˜æ²¡æœ‰è¢«å–å‡ºï¼‰ï¼ŒæŠŠå®ƒå†™åœ¨ç‹¬ç«‹çš„ä¸€ä¸ªåˆ—è¡¨çš„æœ€åŽä¸€ä½
4. é‡å¤ç¬¬ 2 æ­¥ï¼Œç›´åˆ°æ‰€æœ‰çš„æ•°å­—éƒ½è¢«å–å‡º
5. ç¬¬ 3 æ­¥å†™å‡ºçš„è¿™ä¸ªåºåˆ—ï¼ŒçŽ°åœ¨å°±æ˜¯åŽŸå§‹æ•°å­—çš„éšæœºæŽ’åˆ—

å·²ç»è¯æ˜Žå¦‚æžœç¬¬ 2 æ­¥å–å‡ºçš„æ•°å­—æ˜¯çœŸéšæœºçš„ï¼Œé‚£ä¹ˆæœ€åŽå¾—åˆ°çš„æŽ’åºä¸€å®šä¹Ÿæ˜¯ã€‚



```js
/**
 * Fisherâ€“Yates shuffle
 */
Array.prototype.shuffle = function() {
    var input = this;

    for (var i = input.length-1; i >=0; i--) {

        var randomIndex = Math.floor(Math.random()*(i+1));
        var itemAtIndex = input[randomIndex];

        input[randomIndex] = input[i];
        input[i] = itemAtIndex;
    }
    return input;
}
```

